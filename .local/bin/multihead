#!/usr/bin/env python3
# coding: utf-8

import os
import sys

START_COMMANDS = [
    'xrandr --output DP-1 --primary --auto --right-of eDP-1 --output eDP-1 --auto',
    'pkill picom && sleep 0.3',
    'picom --backend glx --experimental-backends --vsync -b',
    '$HOME/.config/polybar/launch.sh',
]

STOP_COMMANDS = [
    'xrandr --output DP-1 --auto --output eDP-1 --off',
    'pkill picom && sleep 0.3',
    'picom --backend glx --experimental-backends --vsync -b',
    '$HOME/.config/polybar/launch.sh',
]

def main():
    commands = START_COMMANDS if len(sys.argv) == 1 else STOP_COMMANDS

    for cmd in commands:
        if (ecode := os.system(cmd)) != 0:
            print(f'{ecode}:failed to execute:{cmd}')
            break

        print(f'0:{cmd}')

if __name__ == '__main__':
    main()
